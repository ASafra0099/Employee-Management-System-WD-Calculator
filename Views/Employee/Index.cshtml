@model IEnumerable<EmployeeManagement_system.ViewModels.EmployeeViewModel>
@{
    ViewData["Title"] = "All Employees";  // page title
}

<!-- Main container to hold the content -->
<div class="container p-4">
    <div class="row">
        <div class="col-md-12">
            <h3 class="p-4">List of All Employees</h3>  <!-- Title for the employee list page -->
        </div>
    </div>

    <!-- Table to display employees' details -->
    <div class="row">
        <div class="col-md-12 p-4">
            <table class="table">
                <thead>
                    <tr>
                        <!-- Sorting column link for Employee ID -->
                        <th scope="col">
                            <a class="text-dark" asp-controller="Employee" asp-action="Index"
                               asp-route-sortOrder="@ViewData["SortParam"]"
                               asp-route-currentFilter="@ViewData["CurrentFilter"]">
                                Employee ID
                            </a>
                        </th>
                        <th scope="col">Employee Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Job Position</th>
                        <th></th> <!-- Empty column for Update button -->
                        <th></th> <!-- Empty column for Delete button -->
                    </tr>
                </thead>
                <tbody>
                    @foreach (var employee in Model)
                    {
                        <tr>
                            <!-- Display each employee's details -->
                            <th>@employee.EmployeeID</th>
                            <td>@employee.Name</td>
                            <td>@employee.Email</td>
                            <td>@employee.JobPosition</td>

                            <!-- Update button for editing employee details -->
                            <td>
                                <a class="btn btn-dark" style="background-color:#003B46; color: white;"
                                   asp-controller="Employee" asp-action="Update" asp-route-id="@employee.EmployeeID">
                                    Update
                                </a>
                            </td>

                            <!-- Delete button with confirmation prompt before deleting -->
                            <td>
                                <a class="btn btn-danger" asp-action="Delete" asp-controller="Employee"
                                   asp-route-id="@employee.EmployeeID"
                                   onClick="return confirm('Are you sure you want to delete this employee?')">
                                    Delete
                                </a>
                            </td>
                        </tr>
                    }

                </tbody>

            </table>
        </div>
    </div>
</div>
